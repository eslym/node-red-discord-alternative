<script type="text/javascript">
    RED.nodes.registerType('{{basename}}', {
        category: 'discord',
        color: '#7289da',
        defaults: {
            name: {
                value: "",
                required: false
            },
            client: {
                value: "",
                required: true,
                type: "discord.client"
            },
            destination: {
                value: "botUser",
                required: true,
            },
            desttype: {
                value: "msg",
                required: true,
            }
        },
        inputs: 1,
        outputs: 1,
        icon: "discord.png",
        label: function () {
            return this.name || 'Get Bot User';
        },
        paletteLabel: 'Get Bot User',
        oneditprepare: function(){
            $('#node-input-destination').typedInput({
                default: 'msg',
                types: ['msg', 'flow', 'global', 'str'],
                typeField: '#node-input-desttype',
            });
        }
    });
</script>
<script type="text/html" data-template-name="{{basename}}">
        {{> input-field property="name" label="Name" placeholder="Name" }}
        {{> input-field property="client" label="Client" placeholder="Discord Client" }}
        {{> input-field property="destination" label="Store As" placeholder="Store the Bot User as" }}
    <input type="hidden" id="node-input-desttype"/>
</script>
<script type="text/html" data-help-name="{{basename}}">
    <p>Send a message to discord</p>
    <h3>Properties</h3>
    <dl class="message-properties">
        {{#>field-def name="client" type="discord.client" }}
            The discord client which use for this node.
        {{/field-def}}
        {{#>field-def name="Store as" }}
            The destination to store bot user. It could be <code>msg</code>, context.
        {{/field-def}}
    </dl>
    <h3>Output</h3>
    <p>The message with bot user.</p>
</script>
